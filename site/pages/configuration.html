<!DOCTYPE html>
<html>
<head>
	<title>Configuration</title>

	<script type="text/javascript" src="/assets/js/page-loader.js"></script>
	<link rel="stylesheet" href="/assets/css/main.css"/>
	<link rel="stylesheet" type="text/css" href="/assets/css/page.css">
</head>
<body>
	<header>
		<h1>Configuration</h1>
	</header>

	<div class="scrollable tb-padded">
		<div class="left column show lr-padded">

			<h1 class="tb-padded">Introduction</h1>
			<p>
				Media-Tag allows users to configure it.
				A configuration is passed by a configuration file which is used by the library to modify its nominal operations.
				It permits create or modify plugins, add permissions on it, define a default behavior ...
			</p>

			<h1 class="tb-padded">Structure</h1>
			<p>
				You need to create a configuration file like "configuration.js".<br><br>

				<em>example:</em><br><br>
		
				<code>
					(function () {<br>
					&nbsp&nbsp const event = new Event('Configuration');<br>

					&nbsp&nbsp event.configuration = {<br>
					&nbsp&nbsp&nbsp&nbsp # WHATEVER YOU WANT<br>
					&nbsp&nbsp };<br>

					&nbsp&nbsp document.dispatchEvent(event);<br>
					})();<br><br>
				</code>

				A configuration need to be enclosed inside a event.configuration key to permits library a dynamical loading.
				The library handle dynamical modifications of the DOM and introduce a new <code>&ltmedia-tag&gt</code> starts a new processing which concerns only unprocessed tags.
				So introduce a new configuration at run time updates the last one by overwritting.
			</p>

			<h1 class="tb-padded">Dependencies</h1>
			<p>
				Media-tag is modular and all its features are turned as plugins.
				Usual media rendering like image, audio, video doesn't use dependencies.<br>
				Other ones like pdf, dash or the crypto filter use external dependencies to work.<br>
				The configuration allows to define directly all needed dependencies into one field.<br><br>
			</p>
			<em>example :</em><br><br>
			<code>
			&nbsp&nbsp event.configuration = {<br>
			&nbsp&nbsp&nbsp&nbsp dependencies: [<br>
			&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 'https://cdnjs.cloudflare.com/ajax/libs/shaka-player/2.1.3/shaka-player.compiled.js',<br>
			&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 'https://cdnjs.cloudflare.com/ajax/libs/tweetnacl/1.0.0/nacl.min.js',<br>
			&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 'https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.3/FileSaver.min.js',<br>
			&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp '/ext-lib/nacl-util.min.js'<br>
			&nbsp&nbsp&nbsp&nbsp ]<br>
			&nbsp&nbsp };<br><br>
			</code>
			<p>
				Dependencies are loaded only one time, Media-tag handles a caching system to avoid multiple loadings.
			</p>

			<h1 class="tb-padded">Permissions</h1>
			<p>
				Default Media-Tag build contains basic plugins like image, audio, video, pdf, dash, crypto ...<br><br>
				In some usage context Media-Tag user don't want let their custom use every plugins.
				So, to have less operations to do to disable plugins you could set permission on it.
				Every plugin with no permission is considered as allowed.<br><br>
				Existing permissions are allowed, required and forbidden.<br><br>
				Allowed is the default plugin status. No specified permission is the same than allowed.<br>
				Required is a specific permission used in the case of dynamic plugin servering that preload a plugin before it is really needed.<br>
				Forbidden disable plugin usage, if it's applied to a rendering plugin them the Media-Tag processing engine must applies it default rendering behavior.<br><br>
			</p>

			<em>example:</em><br><br>

			<code>
			&nbsp&nbsp permission: {<br>
			&nbsp&nbsp &nbsp&nbsp image: 'forbidden',<br>
			&nbsp&nbsp &nbsp&nbsp audio: 'forbidden',<br>
			&nbsp&nbsp &nbsp&nbsp video: 'forbidden'<br>
			&nbsp&nbsp }<br>
			</code>
		
			<h1 class="tb-padded">Processing Engine</h1>
			<p>
				You can configure the default processing engine behavior.<br><br>
			</p>

			<em>example:</em><br><br>

			<code>
			&nbsp&nbsp processing-engine: {<br>
			&nbsp&nbsp &nbsp&nbsp defaultPlugin: 'failure'<br>
			&nbsp&nbsp }<br><br>
			</code>
			<p>
				Currently, only the default plugin field from processing-engine is configurable.<br><br>
			</p>
		</div>
	</div>
</body>
</html>